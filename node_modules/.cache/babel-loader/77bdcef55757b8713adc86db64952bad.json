{"ast":null,"code":"import _slicedToArray from \"A:\\\\online_kaam\\\\1LearningResource\\\\React Practice\\\\TmDbProject\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"A:\\\\online_kaam\\\\1LearningResource\\\\React Practice\\\\TmDbProject\\\\src\\\\components\\\\tracks\\\\Lyrics.js\";\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { Link } from \"react-router-dom\";\nimport Spinner from \"../layout/Spinner\";\nimport Moment from \"react-moment\";\n\nconst Lyrics = props => {\n  const _useState = useState({}),\n        _useState2 = _slicedToArray(_useState, 2),\n        track = _useState2[0],\n        setTrack = _useState2[1];\n\n  const _useState3 = useState({}),\n        _useState4 = _slicedToArray(_useState3, 2),\n        lyrics = _useState4[0],\n        setLyrics = _useState4[1]; //console.log(props);\n\n\n  useEffect(() => {\n    axios.get(\"https://api.themoviedb.org/3/movie/\".concat(props.match.params.id, \"/videos?api_key=\").concat(process.env.REACT_APP_MM_KEY, \"&language=en-US\") // `https://cors-anywhere.herokuapp.com/http://api.musixmatch.com/ws/1.1/track.lyrics.get?track_id=${props.match.params.id}&apikey=${process.env.REACT_APP_MM_KEY}`\n    ).then(res => {\n      console.log(res.data);\n      let lyrics = res.data.results[0].key;\n      console.log(lyrics);\n      setLyrics(lyrics);\n    }).catch(err => console.log(err));\n  }, [props.match.params.id]);\n  const trailer = \"https://www.youtube.com/embed/\".concat(lyrics, \"?&autoplay=1\");\n  console.log(trailer);\n\n  if (lyrics === undefined || Object.keys(lyrics).length === 0) {\n    return React.createElement(Spinner, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 29\n      },\n      __self: this\n    });\n  } else {\n    return React.createElement(React.Fragment, null, React.createElement(Link, {\n      to: \"/\",\n      className: \"btn btn-dark btn-sm mb-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33\n      },\n      __self: this\n    }, \"Go Back\"), React.createElement(\"div\", {\n      className: \"card\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36\n      },\n      __self: this\n    }, React.createElement(\"h5\", {\n      className: \"card-header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37\n      },\n      __self: this\n    }, track.title), React.createElement(\"div\", {\n      className: \"card-body\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38\n      },\n      __self: this\n    }, React.createElement(\"iframe\", {\n      width: \"1000\",\n      height: \"500\",\n      src: trailer,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39\n      },\n      __self: this\n    }))));\n  }\n};\n\nexport default Lyrics;","map":{"version":3,"sources":["A:\\online_kaam\\1LearningResource\\React Practice\\TmDbProject\\src\\components\\tracks\\Lyrics.js"],"names":["React","useState","useEffect","axios","Link","Spinner","Moment","Lyrics","props","track","setTrack","lyrics","setLyrics","get","match","params","id","process","env","REACT_APP_MM_KEY","then","res","console","log","data","results","key","catch","err","trailer","undefined","Object","keys","length","title"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,OAAOC,OAAP,MAAoB,mBAApB;AACA,OAAOC,MAAP,MAAmB,cAAnB;;AAEA,MAAMC,MAAM,GAAGC,KAAK,IAAI;AAAA,oBACIP,QAAQ,CAAC,EAAD,CADZ;AAAA;AAAA,QACfQ,KADe;AAAA,QACRC,QADQ;;AAAA,qBAEMT,QAAQ,CAAC,EAAD,CAFd;AAAA;AAAA,QAEfU,MAFe;AAAA,QAEPC,SAFO,kBAGtB;;;AAEAV,EAAAA,SAAS,CAAC,MAAM;AACdC,IAAAA,KAAK,CACFU,GADH,8CAE0CL,KAAK,CAACM,KAAN,CAAYC,MAAZ,CAAmBC,EAF7D,6BAEkFC,OAAO,CAACC,GAAR,CAAYC,gBAF9F,qBAGI;AAHJ,MAKGC,IALH,CAKQC,GAAG,IAAI;AACXC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,IAAhB;AACA,UAAIb,MAAM,GAAGU,GAAG,CAACG,IAAJ,CAASC,OAAT,CAAiB,CAAjB,EAAoBC,GAAjC;AACAJ,MAAAA,OAAO,CAACC,GAAR,CAAYZ,MAAZ;AACAC,MAAAA,SAAS,CAACD,MAAD,CAAT;AACD,KAVH,EAWGgB,KAXH,CAWSC,GAAG,IAAIN,OAAO,CAACC,GAAR,CAAYK,GAAZ,CAXhB;AAYD,GAbQ,EAaN,CAACpB,KAAK,CAACM,KAAN,CAAYC,MAAZ,CAAmBC,EAApB,CAbM,CAAT;AAcA,QAAMa,OAAO,2CAAoClB,MAApC,iBAAb;AACAW,EAAAA,OAAO,CAACC,GAAR,CAAYM,OAAZ;;AACA,MAAIlB,MAAM,KAAKmB,SAAX,IAAwBC,MAAM,CAACC,IAAP,CAAYrB,MAAZ,EAAoBsB,MAApB,KAA+B,CAA3D,EAA8D;AAC5D,WAAO,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAP;AACD,GAFD,MAEO;AACL,WACE,0CACE,oBAAC,IAAD;AAAM,MAAA,EAAE,EAAC,GAAT;AAAa,MAAA,SAAS,EAAC,0BAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADF,EAIE;AAAK,MAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAI,MAAA,SAAS,EAAC,aAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA6BxB,KAAK,CAACyB,KAAnC,CADF,EAEE;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAQ,MAAA,KAAK,EAAC,MAAd;AAAqB,MAAA,MAAM,EAAC,KAA5B;AAAkC,MAAA,GAAG,EAAEL,OAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CAFF,CAJF,CADF;AAaD;AACF,CAtCD;;AAwCA,eAAetB,MAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { Link } from \"react-router-dom\";\nimport Spinner from \"../layout/Spinner\";\nimport Moment from \"react-moment\";\n\nconst Lyrics = props => {\n  const [track, setTrack] = useState({});\n  const [lyrics, setLyrics] = useState({});\n  //console.log(props);\n\n  useEffect(() => {\n    axios\n      .get(\n        `https://api.themoviedb.org/3/movie/${props.match.params.id}/videos?api_key=${process.env.REACT_APP_MM_KEY}&language=en-US`\n        // `https://cors-anywhere.herokuapp.com/http://api.musixmatch.com/ws/1.1/track.lyrics.get?track_id=${props.match.params.id}&apikey=${process.env.REACT_APP_MM_KEY}`\n      )\n      .then(res => {\n        console.log(res.data);\n        let lyrics = res.data.results[0].key;\n        console.log(lyrics);\n        setLyrics(lyrics);\n      })\n      .catch(err => console.log(err));\n  }, [props.match.params.id]);\n  const trailer = `https://www.youtube.com/embed/${lyrics}?&autoplay=1`;\n  console.log(trailer);\n  if (lyrics === undefined || Object.keys(lyrics).length === 0) {\n    return <Spinner />;\n  } else {\n    return (\n      <>\n        <Link to=\"/\" className=\"btn btn-dark btn-sm mb-4\">\n          Go Back\n        </Link>\n        <div className=\"card\">\n          <h5 className=\"card-header\">{track.title}</h5>\n          <div className=\"card-body\">\n            <iframe width=\"1000\" height=\"500\" src={trailer}></iframe>\n          </div>\n        </div>\n      </>\n    );\n  }\n};\n\nexport default Lyrics;\n"]},"metadata":{},"sourceType":"module"}